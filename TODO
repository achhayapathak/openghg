TODO

Fix latitude and longitude saving for Sites and from Network to Site

Ensure classes are uniform

Create a test suite

Create search functions for each of the classes

Tidy the module - sort into sensible folders for further development

What kind of resolution will be needed for dateranges?

- Fix Segment and metadata files
- Tidy segment and meteadata files and fix imports to be in line with fn-local imports
- Metadata is currently being imported as meta, check naming

CRDS.py

 TODO - add control of daterange being written to file from
            data in Datasources



2019-05-15

segment.py

Column naming in gas tables?

JSON file for the processing and segmentation functions

Flag for upload of data -> segmentation functions

Interpretation layer

How to go from the selection of the file format to the processing function?

_datasource.py 

- Get the in-memory saving and storing of HDF files working


2019-05-16

Currently if a Datasource is create using from_data() it tries loading the data
from the object store - unsure if this is the best method

Could have a flag stating whether or not the object has been stored but this feels a bit crude


2019-05-17

Check the performance warning

/home/gar/Documents/Devel/hugs/modules/_datasource.py:167: PerformanceWarning: 
  your performance may suffer as PyTables will pickle object types that it cannot
  map directly to c-types [inferred_type->mixed-integer,key->axis0] [items->None]
  
    out["data"] = self._data

Check the conversion of a Pandas Timestamp object to string and then to python datetime object 
by the Acquire functions


2019-05-20


2019-05-21 

Fix the naming of the Datasources in get_datasources()


2019-05-24

- Add pandas to NetCDF file conversion (in memory)
- Deletion of NaNs by row currently deletes all the data in that row regardless of other data 
possibly being in that row for another gas. When recombining with other dataframes we could just put in NaNs
where the data was previously deleted?



2019-05-29

Make CRDS to_string function more general and accept longer date strings

Improve search functionality for selection of available data
- Select per gas
- Show dateranges available for certain data?
- Order data within dataframe

Create a lookup of sites by their short code for metadata

Index by datetime ?

Filter down Metadata to Datasource


Remove column titles and make Data completely generic / universal

Metadata within the CRDS object leads to hierarchy - store metadata within the
objects themselves so they're not reliant on other objects

Object tags vs metadata in object store



2019-06-03

We're testing the integrity of the dataframe after reindexing in parse_gases, is this necessary?

See segment line 164


2019-06-04

Redo conversion to NetCDF test - error
Column names are different, check what it's testing for within the Pandas code

ValueError: cannot convert DataFrame with non-unique columns

2019-06-07

Update the way the start and end datetimes of data is recorded. Currently only the first dataframe is checked, as there will be many
need to improve this.

parse_gases now returns a tuple of a str and a list of tuples, this feels a bit over complicated, tidy it up if possible

get_datasources only takes data from a  single Datasource 

CRDS read_file also creates just a single Datasource

2019-06-10

Where to get Datasource IDs from?
How to add to parse_gases?

Currently just creating random UUIDs for each Datasource